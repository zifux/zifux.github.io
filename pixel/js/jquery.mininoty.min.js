/**
 * Application:  jquery.mininoty
 * Version:      1.0.3
 * Release date: 2016-07-13
 * Author:       Stepan Maslennikov (http://github.com/StepanMas)
 * Homepage:     https://github.com/StepanMas/jQuery.miniNoty
 * License:      MIT
*/

!function(a){var b={"class":"miniNoty",timeoutToHide:3e3,timeoutAnimEnd:500,view:"normal",autoHide:!0,message:"",buttons:[{isClose:1,name:"Close",link:"#",target:"",click:function(){return a(this).parent().click(),!1}}],allowButtonClose:!1,redirect:!1,blank:!1};a.miniNotyConfig={set:function(c){return c&&(b=a.extend(a.miniNotyConfig.get(),c)),b},get:function(){return a.extend(!0,{},b)}},a.miniNoty=function(b,c){if(!arguments.length||(b.constructor===String?!b:!b.message))return console.warn("Message empty?"),this;var d=a.miniNotyConfig.get(),e=a("body"),f=a("."+d["class"]);if(f.length||(f=a("<div/>",{"class":d["class"]}).appendTo(e)),b instanceof Object){var g=d.buttons;b.buttons&&b.allowButtonClose&&"true"===b.allowButtonClose.toString()&&(g=a.merge(b.buttons,d.buttons),b.buttons=g),d=a.extend(d,b)}else d.message=b;var h=d["class"]+"_message "+d["class"]+"_message-"+(c||d.view),i=a("<div/>",{"class":h,html:a("<div/>",{"class":d["class"]+"_text",html:d.message})});d.buttons.length&&a.each(d.buttons,function(){var c=function(){var b=a("<a/>",{"class":d["class"]+"_btn",text:this.name,href:this.link,target:this.target,click:this.click});i.append(b)};this.isClose&&b.allowButtonClose&&"true"===d.allowButtonClose.toString()?c.call(this):this.isClose||c.call(this)}),f.prepend(i);var j=function(){i.removeClass(d["class"]+"_message-show"),setTimeout(function(){i.addClass(d["class"]+"_message-remove"),setTimeout(function(){a("a",i).off(),i.off().remove()},d.timeoutAnimEnd)},d.timeoutAnimEnd)};i.click(function(b){a(b.target).is("a")||j()}).mouseenter(function(){k&&clearTimeout(k)}).mouseleave(function(){l()}),d.redirect&&i.click(function(b){a(b.target).is("a")||(d.blank?window.open(d.redirect):window.location=d.redirect)}),setTimeout(function(){i.addClass(d["class"]+"_message-show")},100);var k=null,l=function(){"true"===d.autoHide.toString()&&(k=setTimeout(j,d.timeoutToHide))};return l(),this}}(jQuery);